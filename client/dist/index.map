{"version":3,"sources":["js/admin-text-length.js","index.js"],"names":["countedFieldHolderClass","countedFieldClass","counterClass","counterFocusClass","counterMaxClass","counterAlmostMaxClass","lengthHintAttribute","window","jQuery","entwine","$","siblings","first","field","countEl","getCounter","charCount","val","length","hintCount","attr","removeClass","addClass","parent","insertAfter","updateCount"],"mappings":";;;AAAA,IAAMA,EAA0B,4BAC1BC,EAAoB,qBACpBC,EAAe,uBACfC,EAAoB,6BACpBC,EAAkB,2BAClBC,EAAwB,kCAGxBC,EAAsB,mBA2C1BC,OAAOC,OAxCLC,QAAQ,gBAAiB,SAASC,GAEvBJ,EAAAA,SAAAA,EAAwBG,KAAAA,SACrB,WAAA,WACHC,OAAAA,EAAE,MAAMC,SAAaT,IAAAA,GAAgBU,SAEjC,YAAA,WACLC,IAAAA,EAAQH,EAAE,MACVI,EAAU,KAAKC,aACjB,GAACD,EAAD,CAEEE,IAAAA,EAAYH,EAAMI,MAAMC,OACxBC,EAAYN,EAAMO,KAAKd,GACrBW,EAAAA,IAAOD,EAAaG,IAAAA,GAEpBE,EAAAA,YAAYjB,GAAiBiB,YAAYhB,GAC7CW,GAAaG,EACPG,EAAAA,SAASlB,GACRY,EAAYG,GAAa,IAC1BG,EAAAA,SAASjB,KAGd,MAAA,WACCQ,IAAAA,EAAQH,EAAE,MACVY,EAAAA,SAASrB,GACTsB,EAAAA,SAASD,SAAStB,GAAyBsB,SAAS,eACtBpB,EAAAA,kCAAAA,EAA2BsB,eAAAA,YAAYX,GACtEY,KAAAA,eAEE,QAAA,WACFA,KAAAA,eAEI,UAAA,WACJV,KAAAA,aAAaO,SAASnB,IAEjB,WAAA,WACLY,KAAAA,aAAaM,YAAYlB;;AC9CtC,aADA,QAAA,sBACA,QAAA","file":"index.map","sourceRoot":"../src","sourcesContent":["const countedFieldHolderClass = 'char-counted-field-holder';\nconst countedFieldClass = 'char-counted-field';\nconst counterClass = 'char-counted-counter';\nconst counterFocusClass = 'char-counted-counter-focus';\nconst counterMaxClass = 'char-counted-counter-max';\nconst counterAlmostMaxClass = 'char-counted-counter-almost-max';\n\n// This should be reflected in src/TextFieldExtension.php constant LENGTH_HINT_ATTRIBUTE\nconst lengthHintAttribute = 'data-hint-length';\n\n(function($) {\n  $.entwine('lg.lengthhint', function($){\n\n    $(`input[${lengthHintAttribute}]`).entwine({\n      getCounter: function() {\n        return $(this).siblings(`.${counterClass}`).first();\n      },\n      updateCount: function() {\n        const field = $(this);\n        const countEl = this.getCounter();\n        if (!countEl) return;\n\n        const charCount = field.val().length;\n        const hintCount = field.attr(lengthHintAttribute);\n        countEl.val(`${charCount}/${hintCount}`);\n\n        countEl.removeClass(counterMaxClass).removeClass(counterAlmostMaxClass);\n        if (charCount >= hintCount) {\n          countEl.addClass(counterMaxClass);\n        } else if (charCount / hintCount >= 0.8) {\n          countEl.addClass(counterAlmostMaxClass);\n        }\n      },\n      onadd: function() {\n        const field = $(this);\n        field.addClass(countedFieldClass);\n        field.parent().addClass(countedFieldHolderClass).addClass('input-group');\n        $(`<input type=\"text\" class=\"text ${counterClass}\" disabled>`).insertAfter(field);\n        this.updateCount();\n      },\n      oninput: function() {\n        this.updateCount();\n      },\n      onfocusin: function() {\n        this.getCounter().addClass(counterFocusClass);\n      },\n      onfocusout: function() {\n        this.getCounter().removeClass(counterFocusClass);\n      },\n    });\n  });\n}(window.jQuery));\n","import './sass/styles.scss';\nimport './js/admin-text-length.js';\n"]}